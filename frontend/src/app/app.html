<div class="wrapper">
    <mat-toolbar>
        <button (click)="importWorkspace()" matIconButton class="example-icon" aria-label="Import workspace">
            <mat-icon>file_open</mat-icon>
        </button>
        <button (click)="openWorkspace()" matIconButton class="example-icon" aria-label="Open workspace">
            <mat-icon>folder_open</mat-icon>
        </button>
        <!--
        <span class="toolbar-spacer"></span>
        -->
    </mat-toolbar>

    <mat-tab-group animationDuration="0ms" mat-stretch-tabs="false" mat-align-tabs="start" (selectedIndexChange)="onTabChanged($event)">
        @for (p of workspaces; track p) {
        <mat-tab #workspaceTab>
            <ng-template mat-tab-label>
                {{getLastPathSegment(p.dir)}}
                @if (workspaceTab.isActive) {
                <a matIconButton (click)="closeWorkspace(p.id)">
                    <mat-icon>close_small</mat-icon>
                </a>
                }
            </ng-template>

            <div class="ws-container">
                <app-workspace [id]="p.id"></app-workspace>
            </div>
        </mat-tab>
        }
    </mat-tab-group>

</div>
